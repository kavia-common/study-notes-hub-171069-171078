{"is_source_file": true, "format": "JavaScript", "description": "This file provides utility functions for constructing database queries and analyzing data related to 'notes', including dynamic query building with filters, search, sorting, and computing trending scores based on interactions and age.", "external_files": ["supabase"], "external_methods": ["supabase.from", "supabase.select", "supabase.eq", "supabase.or", "supabase.order", "supabase.range"], "published": ["buildNotesQuery", "calculateTrendingScore", "sortNotesByTrending"], "classes": [], "methods": [{"name": "buildNotesQuery(supabase, { search = '', subject = '', level = '', sortBy = 'newest', limit = 20, offset = 0, } = {})", "description": "Builds a Supabase query for the 'notes' table with optional filtering, search, sorting, and pagination based on the provided options.", "scope": "", "scopeKind": ""}, {"name": "calculateTrendingScore(note)", "description": "Calculates a trending score for a note by weighing interactions and applying a time decay factor.", "scope": "", "scopeKind": ""}, {"name": "sortNotesByTrending(notes)", "description": "Sorts an array of notes in-place based on their calculated trending scores in descending order.", "scope": "", "scopeKind": ""}], "calls": ["supabase.from('notes')", "supabase.select('*', { count: 'exact' })", "qb.eq('subject', subject)", "qb.eq('level', level)", "qb.or([...] )", "qb.order('likes', { ascending: false, nullsFirst: false })", "qb.order('downloads', { ascending: false, nullsFirst: false })", "qb.order('created_at', { ascending: false, nullsFirst: false })", "qb.order('title', { ascending: true, nullsFirst: true })", "qb.range(from, to)"], "search-terms": ["buildNotesQuery", "supabase query builder", "notes filtering", "notes search", "trending score", "notes sorting", "pagination", "calculateTrendingScore", "sortNotesByTrending"], "state": 2, "file_id": 36, "knowledge_revision": 81, "git_revision": "", "ctags": [{"_type": "tag", "name": "buildNotesQuery", "path": "/home/kavia/workspace/code-generation/study-notes-hub-171069-171078/react_frontend/src/utils/queryHelpers.js", "pattern": "/^export function buildNotesQuery(supabase, {$/", "language": "JavaScript", "kind": "function", "signature": "(supabase, { search = '', subject = '', level = '', sortBy = 'newest', limit = 20, offset = 0, } = {})"}, {"_type": "tag", "name": "calculateTrendingScore", "path": "/home/kavia/workspace/code-generation/study-notes-hub-171069-171078/react_frontend/src/utils/queryHelpers.js", "pattern": "/^export function calculateTrendingScore(note) {$/", "language": "JavaScript", "kind": "function", "signature": "(note)"}, {"_type": "tag", "name": "sortNotesByTrending", "path": "/home/kavia/workspace/code-generation/study-notes-hub-171069-171078/react_frontend/src/utils/queryHelpers.js", "pattern": "/^export function sortNotesByTrending(notes) {$/", "language": "JavaScript", "kind": "function", "signature": "(notes)"}], "hash": "6557b93c5606b47d0be2b0c308a05ef2", "format-version": 4, "code-base-name": "react_frontend", "filename": "react_frontend/src/utils/queryHelpers.js", "revision_history": [{"81": ""}]}